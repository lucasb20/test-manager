{% extends 'base.html' %}

{% block content %}
<h2>Requirement</h2>
<p><strong>ID:</strong> {{ requirement.code_with_prefix }}</p>
<p><strong>Title:</strong> {{ requirement.title }}</p>
<p><strong>Description:</strong> {{ requirement.description | replace('\n','<br/>') | safe }}</p>
<p><strong>Type:</strong> {{ requirement.type | capitalize }}</p>
<p><strong>Priority:</strong> {{ requirement.priority | capitalize }}</p>
<p><strong>Created At:</strong> {{ requirement.created_at | format_datetime }}</p>
<p><strong>Updated At:</strong> {{ requirement.updated_at | format_datetime }}</p>
<form method="post" action="{{ url_for('requirement.delete', requirement_id=requirement.id) }}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this requirement?');">
    <a href="{{ url_for('requirement.edit', requirement_id=requirement.id) }}" class="btn btn-secondary">Edit</a>
    <button type="submit" class="btn btn-danger">Delete</button>
    <a href="{{ url_for('requirement.index') }}" class="btn btn-secondary">Back to List</a>
</form>
{% if testcases %}
<h3 class="mt-3">Associated Test Cases</h3>
<div class="list-group">
{% for testcase in testcases %}
    <a href="{{ url_for('testcase.detail', testcase_id=testcase.id) }}" class="list-group-item list-group-item-action">{{ testcase.code_with_prefix }} - {{ testcase.title }}</a>
{% endfor %}
</div>
{% endif %}
{% endblock %}
