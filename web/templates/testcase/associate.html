{% extends 'base.html' %}

{% block title %}Associate Test Cases to Requirement{% endblock %}

{% block content %}
  <h2>Associate Requirements to Test Case: {{ testcase.code_with_prefix }}</h2>

  <form method="post" action="{{ url_for('testcase.associate', testcase_id=testcase.id) }}">
    {% for req in requirements %}
    <div class="form mb-3">
      <label for="requirement_{{ req.id }}" class="form-label">{{ req.title }}</label>
      <input type="checkbox" id="requirement_{{ req.id }}" name="requirement_ids" value="{{ req.id }}" {% if req.id in associated_ids %}checked{% endif %}>
    </div>
    {% endfor %}
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{{ url_for('testcase.detail', testcase_id=testcase.id) }}" class="btn btn-secondary">Cancel</a>
  </form>
{% endblock %}