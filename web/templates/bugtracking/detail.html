{% extends 'base.html' %}

{% block content %}
<h2>Bug Tracking</h2>
<p><strong>ID:</strong> {{ bug.code_with_prefix }}</p>
<p><strong>Title:</strong> {{ bug.title }}</p>
<p><strong>Description:</strong> {{ bug.description }}</p>
<p><strong>Status:</strong> {{ bug.status | capitalize }}</p>
<p><strong>Priority:</strong> {{ bug.priority | capitalize }}</p>
<p><strong>Reporter:</strong> {{ bug.reporter }}</p>
<p><strong>Created At:</strong> {{ bug.created_at | format_datetime }}</p>
<p><strong>Updated At:</strong> {{ bug.updated_at | format_datetime }}</p>
<form method="post" action="{{ url_for('bugtracking.delete', bug_id=bug.id) }}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this bug?');">
    <a href="{{ url_for('bugtracking.edit', bug_id=bug.id) }}" class="btn btn-secondary">Edit</a>
    <button type="submit" class="btn btn-danger">Delete</button>
    <a href="{{ url_for('bugtracking.index') }}" class="btn btn-secondary">Back to List</a>
</form>
{% if testcases %}
<h3 class="mt-3">Associated Test Cases</h3>
<div class="list-group">
{% for testcase in testcases %}
    <a href="{{ url_for('testcase.detail', testcase_id=testcase.id) }}" class="list-group-item list-group-item-action">{{ testcase.code_with_prefix }} - {{ testcase.title }}</a>
{% endfor %}
</div>
{% endif %}
{% endblock %}
